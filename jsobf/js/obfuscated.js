eval(atob("Y29uc3QgYXBwRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhcHAnKTsKCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PQovLyBVdGlsaXR5IEZ1bmN0aW9ucwovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT0KCi8vIFJhbmRvbSB2YXJpYWJsZSBuYW1lIGdlbmVyYXRvcgpmdW5jdGlvbiByYW5kb21WYXIobGVuID0gMTIpewogICAgY29uc3QgY2hhcnMgPSAiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWiI7CiAgICBsZXQgbmFtZSA9ICIiOwogICAgZm9yKGxldCBpPTA7aTxsZW47aSsrKSBuYW1lICs9IGNoYXJzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpjaGFycy5sZW5ndGgpXTsKICAgIHJldHVybiBuYW1lOwp9CgovLyBYT1IgZW5jcnlwdGlvbgpmdW5jdGlvbiB4b3JFbmNyeXB0KHN0ciwga2V5KXsKICAgIHJldHVybiBzdHIuc3BsaXQoIiIpLm1hcCgoYyxpKT0+IAogICAgICAgIGMuY2hhckNvZGVBdCgwKSBeIGtleS5jaGFyQ29kZUF0KGkgJSBrZXkubGVuZ3RoKQogICAgKS5qb2luKCIsIik7Cn0KCi8vIFhPUiBkZWNyeXB0aW9uIEpTIHRlbXBsYXRlCmZ1bmN0aW9uIHhvckRlY29kZXIodmFyQ2lwaGVyLCB2YXJLZXkpewpyZXR1cm4gYAooZnVuY3Rpb24oKXsKICAgIGNvbnN0IGRhdGEgPSAke3ZhckNpcGhlcn0uc3BsaXQoIiwiKS5tYXAoTnVtYmVyKTsKICAgIGNvbnN0IGtleSA9ICIke3ZhcktleX0iOwogICAgbGV0IG91dCA9ICIiOwogICAgZm9yKGxldCBpPTA7aTxkYXRhLmxlbmd0aDtpKyspewogICAgICAgIG91dCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGRhdGFbaV0gXiBrZXkuY2hhckNvZGVBdChpICUga2V5Lmxlbmd0aCkpOwogICAgfQogICAgcmV0dXJuIG91dDsKfSkoKQpgOwp9CgovLyBBbnRpIGRlYnVnZ2VyCmZ1bmN0aW9uIGFudGlEZWJ1ZygpewpyZXR1cm4gYAooZnVuY3Rpb24oKXsKICAgIGZ1bmN0aW9uIGJsb2NrKCl7CiAgICAgICAgZGVidWdnZXI7CiAgICAgICAgc2V0VGltZW91dChibG9jaywgMTApOwogICAgfQogICAgYmxvY2soKTsKfSkoKTsKYDsKfQoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09Ci8vIE1haW4gT2JmdXNjYXRvcgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT0KZnVuY3Rpb24gb2JmdXNjYXRlKCl7CiAgICBsZXQgY29kZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJpbnB1dCIpLnZhbHVlOwogICAgaWYoIWNvZGUudHJpbSgpKSB7IGFsZXJ0KCJLb2RlIHRpZGFrIGJvbGVoIGtvc29uZyEiKTsgcmV0dXJuOyB9CgogICAgbGV0IG91dHB1dCA9ICIiOwogICAgbGV0IGtDb2RlID0gY29kZTsKCiAgICAvLyBCYXNlNjQgZW5jb2RlCiAgICBsZXQgYmFzZSA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGtDb2RlKSkpOwoKICAgIC8vIERvdWJsZSBCYXNlNjQKICAgIGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkb3VibGUiKS5jaGVja2VkKXsKICAgICAgICBiYXNlID0gYnRvYShiYXNlKTsKICAgIH0KCiAgICAvLyBYT1IgRW5jcnlwdAogICAgbGV0IHVzZVhvciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJ4b3IiKS5jaGVja2VkOwogICAgbGV0IGtleSA9IHJhbmRvbVZhcig4KTsKICAgIGxldCBlbmNyeXB0ZWQgPSAiIjsKCiAgICBpZih1c2VYb3IpewogICAgICAgIGVuY3J5cHRlZCA9IHhvckVuY3J5cHQoYmFzZSwga2V5KTsKCiAgICAgICAgY29uc3QgdkNpcGhlciA9IHJhbmRvbVZhcigpOwogICAgICAgIGNvbnN0IHZLZXkgPSByYW5kb21WYXIoKTsKCiAgICAgICAgb3V0cHV0ICs9IGAKdmFyICR7dkNpcGhlcn0gPSAiJHtlbmNyeXB0ZWR9IjsKdmFyICR7dktleX0gPSAiJHtrZXl9IjsKZXZhbChhdG9iKCR7eG9yRGVjb2Rlcih2Q2lwaGVyLCB2S2V5KX0pKTsKYDsKICAgIH0gCiAgICBlbHNlIHsKICAgICAgICBvdXRwdXQgKz0gYGV2YWwoYXRvYigiJHtiYXNlfSIpKTtgOwogICAgfQoKICAgIC8vIEFudGkgRGVidWdnZXIgKG9wc2lvbmFsKQogICAgaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFudGkiKS5jaGVja2VkKXsKICAgICAgICBvdXRwdXQgPSBhbnRpRGVidWcoKSArIG91dHB1dDsKICAgIH0KCiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgib3V0cHV0IikudmFsdWUgPSBvdXRwdXQ7Cn0KCi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PQovLyBEb3dubG9hZCB0byAuanMgZmlsZQovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT0KZnVuY3Rpb24gZG93bmxvYWRGaWxlKCl7CiAgICBjb25zdCBjb250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIm91dHB1dCIpLnZhbHVlOwogICAgaWYoIWNvbnRlbnQudHJpbSgpKSB7IGFsZXJ0KCJHZW5lcmF0ZSBkdWx1ISIpOyByZXR1cm47IH0KCiAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW2NvbnRlbnRdLCB7dHlwZToidGV4dC9qYXZhc2NyaXB0In0pOwogICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgIGxpbmsuaHJlZiA9IFVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYik7CiAgICBsaW5rLmRvd25sb2FkID0gIm9iZnVzY2F0ZWQuanMiOwogICAgbGluay5jbGljaygpOwp9CgovLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09Ci8vIERBVEUgJiBUSU1FIEFVVE8gVVBEQVRFIChvcHRpb25hbCkKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKZnVuY3Rpb24gdXBkYXRlRGF0ZVRpbWUoKSB7CiAgY29uc3QgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0ZVRpbWUnKTsKICBpZiAoIWVsKSByZXR1cm47IC8vIHByZXZlbnQgZXJyb3IgamlrYSB0aWRhayBhZGEgZGkgSFRNTAoKICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpOwogIGNvbnN0IG9wdGlvbnMgPSB7CiAgICB3ZWVrZGF5OiAnbG9uZycsCiAgICB5ZWFyICAgOiAnbnVtZXJpYycsCiAgICBtb250aCAgOiAnbG9uZycsCiAgICBkYXkgICAgOiAnbnVtZXJpYycsCiAgICBob3VyICAgOiAnMi1kaWdpdCcsCiAgICBtaW51dGUgOiAnMi1kaWdpdCcsCiAgICBzZWNvbmQgOiAnMi1kaWdpdCcsCiAgICB0aW1lWm9uZU5hbWU6ICdzaG9ydCcKICB9OwoKICBlbC50ZXh0Q29udGVudCA9IG5vdy50b0xvY2FsZVN0cmluZygnaWQtSUQnLCBvcHRpb25zKTsKfQoKLy8gSmFsYW4gc2V0aWFwIDEgZGV0aWsgaGFueWEgamlrYSBlbGVtZW4gYWRhCmlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0ZVRpbWUnKSkgewogICAgc2V0SW50ZXJ2YWwodXBkYXRlRGF0ZVRpbWUsIDEwMDApOwogICAgdXBkYXRlRGF0ZVRpbWUoKTsKfQoKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQovLyBTVEFUSUMgRUxFTUVOVFMgKHNhZmUgdmVyc2lvbikKLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PQoKY29uc3QgbG9nbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dvJyk7CmlmIChsb2dvKSB7CiAgICBsb2dvLnNyYyA9ICdpbWcvY2FwdHVyZS5naWYnOwp9Cgpjb25zdCBmb290ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9vdGVyJyk7CmlmIChmb290ZXIpIHsKICAgIGZvb3Rlci5pbm5lclRleHQgPQogICAgICAnRGVzaWduZWQgQXV0aG9yaXplZCA6IFJ1ZHkgR3VuYXdhbixTVCAoQ0NOQSxNVENSRSxNVENOQSkuIHwgQWxsIHJpZ2h0cyByZXNlcnZlZC4gQ29weXJpZ2h0IMKpIDIwMjMuJzsKfQoK"));